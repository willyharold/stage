<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this template, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">
    <h:head>
        <title>stagiaires</title>
        <link rel="StyleSheet" href="../layout.css" type="text/css"/>
    </h:head>
    <body>
        <div id="body">
            <div id="div1">

            </div>
            <div id ="menu1">
                <ui:include src="../entete.xhtml" />
            </div>
            <div id ="menu2">
                <h:form id ="stagiaires"> 

                    <p:contextMenu for="stagiairestable">
                        <p:menuitem value="Lettre"     actionListener="#{etudiantStageBean.lettreMiseEnstage()}"  oncomplete="affectationDialog.show()"   icon="ui-icon-person"  />
                        <p:menuitem value="Supprimer"  action ="#{compteBean.supprimer()}"     icon="ui-icon-close" actionListener="#{tableBean.deleteCar}" />
                    </p:contextMenu>

                    <p:dataTable var="etudiantStage" selection="#{etudiantStageBean.etudiantStageSelected}" selectionMode="single" value="#{etudiantStageBean.etudiantStages}"  rowKey="#{etudiantStage.id}" paginator="true" rows="10" id="stagiairestable"> 

                        <f:facet name="header">  
                            Liste Des Stagiaires  
                        </f:facet> 

                        <p:column headerText="Matricule" filterBy="#{etudiantStage.matricule}" sortBy="#{etudiantStage.matricule}">  
                            <h:outputText value="#{etudiantStage.matricule}" />  
                        </p:column>  
                        <p:column headerText="Nom" filterBy="#{etudiantStage.etudiant.nom}" sortBy="#{etudiantStage.etudiant.nom}">  
                            <h:outputText value="#{etudiantStage.etudiant.nom}" />  
                        </p:column> 
                        <p:column headerText="Prenom" filterBy="#{etudiantStage.etudiant.premon}" sortBy="#{etudiantStage.etudiant.premon}">  
                            <h:outputText value="#{etudiantStage.etudiant.premon}" />  
                        </p:column> 
                        <p:column headerText="Parcours" filterBy="#{etudiantStage.etudiant.parcours}" sortBy="#{etudiantStage.etudiant.parcours}">  
                            <h:outputText value="#{etudiantStage.etudiant.parcours}" />  
                        </p:column>
                        <p:column headerText="Niveau" filterBy="#{etudiantStage.etudiant.niveau}" sortBy="#{etudiantStage.etudiant.niveau}">  
                            <h:outputText value="#{etudiantStage.etudiant.niveau}" />  
                        </p:column> 
                        <p:column headerText="Entreprise" filterBy="#{etudiantStage.stage.entreprise.nomEntreprise}" sortBy="#{etudiantStage.stage.entreprise.nomEntreprise}">  
                            <h:outputText value="#{etudiantStage.stage.entreprise.nomEntreprise}" />  
                        </p:column>
                        <p:column headerText="Ville" filterBy="#{etudiantStage.stage.entreprise.nomVille}" sortBy="#{etudiantStage.stage.entreprise.nomVille}">  
                            <h:outputText value="#{etudiantStage.stage.entreprise.nomVille}" />  
                        </p:column>
                        <p:column headerText="Annee" filterBy="#{etudiantStage.anneeAcademique}" sortBy="#{etudiantStage.anneeAcademique}">  
                            <h:outputText value="#{etudiantStage.anneeAcademique}" />  
                        </p:column>
                    </p:dataTable> 
                    <h:commandLink  actionListener="#{etudiantStageBean.lettreMiseEnstage()}" >
                        <p:graphicImage  alt="Lettre de stage" />
                    </h:commandLink>
                </h:form>
            </div>

        </div>
    </body>
</html>
